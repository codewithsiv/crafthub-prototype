<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Construction Workflow Management System</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <!-- External Dependencies -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          screens: {
            'xs': '320px',
          }
        }
      }
    }
  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Custom Styles -->
  <style>
    /* ===== CSS VARIABLES FOR THEMING ===== */
    :root {
      --theme-color: #0ea5e9;  /* Primary theme color (default: sky blue) */
      --theme-bg: #e0f2fe;     /* Background color for themed elements */
      --theme-border: #7dd3fc; /* Border color for themed elements */
      --theme-text: #075985;   /* Text color for themed elements */
    }

    /* ===== GLOBAL MOBILE OPTIMIZATIONS ===== */
    * {
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      -webkit-touch-callout: none;
    }
    
    html {
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    
    body {
      -webkit-overflow-scrolling: touch;
      touch-action: manipulation;
      overflow-x: hidden;
    }

    /* ===== THEMED NODE STYLING ===== */
    /* Main styling for workflow diagram nodes */
    .themed-node {
      background-color: var(--theme-bg);
      border: 2px solid var(--theme-border);
      color: var(--theme-text);
      transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease;
    }

    /* ===== WORKFLOW ARROWS ===== */
    /* Connecting arrows between workflow steps */
    .arrow {
      width: 2px; 
      height: 40px;
      background: var(--theme-color);
      position: relative; 
      margin: 0 auto;
      opacity: 0; 
      transition: opacity .45s ease, background-color 0.5s ease;
    }
    
    /* Arrow heads pointing downward */
    .arrow::after {
      content: ''; 
      position: absolute; 
      bottom: -6px; 
      left: -5px;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 8px solid var(--theme-color);
      transition: border-top-color 0.5s ease;
    }

    /* ===== ANIMATION EFFECTS ===== */
    /* Sequential reveal animation for workflow nodes */
    .node {
      opacity: 0;
      transform: translateY(18px);
      transition: all .55s cubic-bezier(.2,.9,.2,1);
    }
    
    .node.visible, 
    .arrow.visible { 
      opacity: 1; 
      transform: translateY(0); 
    }

    /* ===== ACCORDION FUNCTIONALITY ===== */
    /* Hide accordion content by default */
    .accordion-content { 
      display: none; 
    }
    
    /* Rotating chevron icon for accordion toggle */
    .chev { 
      transition: transform .25s ease; 
      display: inline-block; 
    }
    
    .chev.open { 
      transform: rotate(180deg); 
    }
    
    /* Accordion toggle button styling */
    .accordion-toggle {
      color: var(--theme-text);
      border: 1px solid transparent;
      transition: color 0.5s ease, background-color 0.5s ease;
    }
    
    .accordion-toggle:hover {
      background-color: var(--theme-bg);
    }

    /* ===== THEME SELECTOR ===== */
    /* Radio button accent color matching theme */
    .theme-radio {
      accent-color: var(--theme-color);
    }

    /* ===== RESPONSIVE DESIGN ===== */
    /* Better mobile optimization */
    
    /* Ensure proper touch targets */
    .accordion-toggle {
      min-height: 44px;
      min-width: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Base mobile styles (up to 768px) */
    @media (max-width: 768px) {
      body {
        font-size: 14px;
        line-height: 1.4;
        padding: 0.5rem 0.25rem !important;
      }
      
      .themed-node {
        padding: 0.5rem !important;
        font-size: 0.8rem !important;
        margin: 0 0.25rem;
        max-width: calc(100vw - 1rem) !important;
        width: calc(100vw - 1rem) !important;
        border-width: 1px !important;
      }
      
      .accordion-content {
        font-size: 0.7rem !important;
        line-height: 1.2;
      }
      
      .arrow {
        height: 15px;
        margin: 0.25rem auto;
        width: 1px;
      }
      
      .arrow::after {
        bottom: -2px;
        left: -2px;
        border-left: 2px solid transparent;
        border-right: 2px solid transparent;
        border-top: 3px solid var(--theme-color);
      }
      
      /* Improve spacing on mobile */
      #workflow {
        padding: 0 0.25rem;
        gap: 0.5rem !important;
      }
      
      /* Better button styling for mobile */
      .accordion-toggle {
        padding: 0.375rem !important;
        font-size: 0.7rem !important;
        min-height: 36px;
      }
      
      /* Adjust nested content */
      .accordion-content ul {
        margin-left: 0.75rem;
        font-size: 0.65rem;
      }
      
      .accordion-content .bg-white,
      .accordion-content .bg-sky-50 {
        padding: 0.375rem !important;
        margin: 0.25rem 0;
      }
      
      /* Compact theme selector */
      .theme-selector {
        margin-bottom: 0.75rem !important;
      }
      
      .theme-selector label {
        padding: 0.25rem 0.5rem !important;
        font-size: 0.7rem !important;
      }
    }

    /* Extra small mobile devices */
    @media (max-width: 480px) {
      body {
        font-size: 13px;
        padding: 0.25rem 0.125rem !important;
      }
      
      .themed-node {
        padding: 0.375rem !important;
        font-size: 0.75rem !important;
        margin: 0 0.125rem;
        max-width: calc(100vw - 0.5rem) !important;
        width: calc(100vw - 0.5rem) !important;
      }
      
      .accordion-content {
        font-size: 0.65rem !important;
        line-height: 1.1;
      }
      
      .accordion-toggle {
        padding: 0.25rem !important;
        font-size: 0.65rem !important;
        min-height: 32px;
      }
      
      .accordion-content ul {
        margin-left: 0.5rem;
        font-size: 0.6rem;
      }
      
      /* Reduce emoji size on very small screens */
      .themed-node span:first-child {
        font-size: 1rem !important;
      }
      
      /* Theme selector optimization */
      .theme-selector {
        gap: 0.25rem;
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .theme-selector label {
        font-size: 0.65rem;
        padding: 0.25rem;
      }
      
      .arrow {
        height: 12px;
        margin: 0.125rem auto;
      }
    }

    /* Very small screens */
    @media (max-width: 360px) {
      body {
        padding: 0.125rem !important;
      }
      
      .themed-node {
        padding: 0.25rem !important;
        font-size: 0.7rem !important;
        margin: 0;
        max-width: calc(100vw - 0.25rem) !important;
        width: calc(100vw - 0.25rem) !important;
      }
      
      .accordion-content {
        font-size: 0.6rem !important;
      }
      
      .accordion-toggle {
        padding: 0.125rem 0.25rem !important;
        font-size: 0.6rem !important;
        min-height: 28px;
      }
      
      .arrow {
        height: 10px;
        margin: 0.125rem auto;
      }
      
      #workflow {
        gap: 0.25rem !important;
      }
    }
  </style>
</head>
<body class="bg-gray-50 flex flex-col items-center py-1 px-0.5 sm:py-2 sm:px-1 md:py-4 md:px-2 lg:py-8 lg:px-4 xl:py-12 min-h-screen">
  <!-- ===== THEME SELECTOR SECTION ===== -->
  <!-- Radio buttons for switching between different color themes -->
  <div class="mb-2 sm:mb-3 md:mb-4 lg:mb-6 xl:mb-8 w-full max-w-6xl px-1 sm:px-2">
    <div class="flex flex-wrap justify-center gap-1 sm:gap-2 md:gap-3 lg:gap-4 xl:gap-6 theme-selector">
      <label class="flex items-center space-x-1 text-xs sm:text-sm md:text-base bg-white rounded-md px-1.5 py-0.5 sm:px-2 sm:py-1 shadow-sm border">
        <input type="radio" name="theme" value="sky" class="theme-radio w-3 h-3 sm:w-4 sm:h-4" checked>
        <span class="text-sky-600 font-medium">Sky</span>
      </label>
      <label class="flex items-center space-x-1 text-xs sm:text-sm md:text-base bg-white rounded-md px-1.5 py-0.5 sm:px-2 sm:py-1 shadow-sm border">
        <input type="radio" name="theme" value="emerald" class="theme-radio w-3 h-3 sm:w-4 sm:h-4">
        <span class="text-emerald-600 font-medium">Emerald</span>
      </label>
      <label class="flex items-center space-x-1 text-xs sm:text-sm md:text-base bg-white rounded-md px-1.5 py-0.5 sm:px-2 sm:py-1 shadow-sm border">
        <input type="radio" name="theme" value="indigo" class="theme-radio w-3 h-3 sm:w-4 sm:h-4">
        <span class="text-indigo-600 font-medium">Indigo</span>
      </label>
      <label class="flex items-center space-x-1 text-xs sm:text-sm md:text-base bg-white rounded-md px-1.5 py-0.5 sm:px-2 sm:py-1 shadow-sm border">
        <input type="radio" name="theme" value="amber" class="theme-radio w-3 h-3 sm:w-4 sm:h-4">
        <span class="text-amber-600 font-medium">Amber</span>
      </label>
    </div>
  </div>
  
  <!-- ===== MAIN WORKFLOW DIAGRAM ===== -->
  <!-- Sequential workflow showing construction project hierarchy -->
  <div id="workflow" class="flex flex-col items-center space-y-1 sm:space-y-2 md:space-y-3 lg:space-y-4 xl:space-y-6 w-full max-w-6xl px-0.5 sm:px-1 md:px-2">

    <!-- ===== 1. COMPANY LEVEL ===== -->
    <!-- Top-level organizational entity -->
    <div class="node flex items-center node themed-node w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-[28rem] rounded-md sm:rounded-lg md:rounded-xl px-1.5 sm:px-2 md:px-3 lg:px-4 xl:px-6 py-1.5 sm:py-2 md:py-3 shadow justify-center">
      <span class="text-base sm:text-lg md:text-xl lg:text-2xl mr-1 sm:mr-2">ğŸ¢</span>
      <span class="font-semibold text-sky-900 text-sm sm:text-base md:text-lg">Company</span>
    </div>
    <div class="arrow"></div>

    <!-- ===== 2. CLIENT MANAGEMENT ===== -->
    <!-- Client lifecycle from prospect to active client with billing -->
    <div class="node themed-node w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-[28rem] rounded-md sm:rounded-lg md:rounded-xl px-1.5 sm:px-2 md:px-3 lg:px-4 py-1.5 sm:py-2 md:py-3 shadow">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-1 sm:space-x-2">
          <span class="text-base sm:text-lg md:text-xl lg:text-2xl">ğŸ‘¤</span>
          <span class="font-semibold text-sky-900 text-sm sm:text-base md:text-lg">Client</span>
        </div>
        <button class="accordion-toggle flex items-center space-x-0.5 sm:space-x-1 px-1 sm:px-1.5 md:px-2 py-0.5 sm:py-1 rounded text-sky-700 hover:bg-sky-50 text-xs sm:text-sm bg-white shadow-sm border border-sky-200" data-target="#client-flow">
          <span>Details</span>
          <svg class="chev w-3 h-3 sm:w-4 sm:h-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
        </button>
      </div>

      <!-- Client Workflow Details -->
      <div id="client-flow" class="accordion-content mt-1 sm:mt-2 md:mt-3 space-y-0.5 sm:space-y-1 md:space-y-2 text-xs sm:text-sm">

        <!-- Prospect Stage -->
        <!-- Initial client engagement and qualification phase -->
        <div class="bg-sky-50 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 md:py-2 rounded border border-sky-200">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800 text-xs sm:text-sm">ğŸŒŸ Prospect</span>
            <button class="accordion-toggle text-xs text-sky-600 bg-white rounded px-1 py-0.5 shadow-sm min-h-6 sm:min-h-8 flex items-center border border-sky-200" data-target="#client-prospect">
              Details
              <svg class="chev w-2 h-2 sm:w-3 sm:h-3 inline-block ml-0.5 sm:ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <ul id="client-prospect" class="accordion-content list-disc ml-2 sm:ml-3 md:ml-4 lg:ml-6 mt-0.5 sm:mt-1 md:mt-2 text-sky-700 space-y-0.5 text-xs leading-tight">
            <li>ğŸ“ Lead Capture â†’ Collect client & project details</li>
            <li>ğŸ” Qualification â†’ Verify seriousness & budget capacity</li>
            <li>ğŸ¤ Initial Meeting â†’ Presentation, showcase portfolio</li>
          </ul>
        </div>

        <!-- Active Client Stage -->
        <!-- Contract negotiation and agreement phase -->
        <div class="bg-sky-50 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 md:py-2 rounded border border-sky-200">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800 text-xs sm:text-sm">ğŸ“‚ Client Active</span>
            <button class="accordion-toggle text-xs text-sky-600 bg-white rounded px-1 py-0.5 shadow-sm min-h-6 sm:min-h-8 flex items-center border border-sky-200" data-target="#client-active">
              Details
              <svg class="chev w-2 h-2 sm:w-3 sm:h-3 inline-block ml-0.5 sm:ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <ul id="client-active" class="accordion-content list-disc ml-2 sm:ml-3 md:ml-4 lg:ml-6 mt-0.5 sm:mt-1 md:mt-2 text-sky-700 space-y-0.5 text-xs leading-tight">
            <li>ğŸ“„ Proposal â†’ Draft conceptual scope, timelines</li>
            <li>ğŸ“œ Contract Drafting â†’ Legal and commercial terms</li>
            <li>ğŸ–Šï¸ Agreement Signing â†’ Formal contract + RERA</li>
          </ul>
        </div>

        <!-- Billing Stage -->
        <!-- Payment and financial management phase -->
        <div class="bg-sky-50 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 md:py-2 rounded border border-sky-200">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800 text-xs sm:text-sm">ğŸ’° First Invoice</span>
            <button class="accordion-toggle text-xs text-sky-600 bg-white rounded px-1 py-0.5 shadow-sm min-h-6 sm:min-h-8 flex items-center border border-sky-200" data-target="#client-invoice">
              Details
              <svg class="chev w-2 h-2 sm:w-3 sm:h-3 inline-block ml-0.5 sm:ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <ul id="client-invoice" class="accordion-content list-disc ml-2 sm:ml-3 md:ml-4 lg:ml-6 mt-0.5 sm:mt-1 md:mt-2 text-sky-700 space-y-0.5 text-xs leading-tight">
            <li>ğŸ§¾ Invoice Generation â†’ As per agreed payment schedule</li>
            <li>ğŸ¦ Payment Collection â†’ Bank transfer/cheque tracking</li>
            <li>âœ… Payment Confirmation â†’ Update ERP + accounts</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="arrow"></div>

    <!-- ===== 3. PROJECT MANAGEMENT ===== -->
    <!-- Project categorization and coding system -->
    <div class="node themed-node w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-[28rem] rounded-md sm:rounded-lg md:rounded-xl px-1.5 sm:px-2 md:px-3 lg:px-4 py-1.5 sm:py-2 md:py-3 shadow">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-1 sm:space-x-2">
           <span class="text-base sm:text-lg md:text-xl lg:text-2xl">ğŸ—ï¸</span> 
          <span class="font-semibold text-sky-900 text-sm sm:text-base md:text-lg">Project</span>
        </div>
        <button class="accordion-toggle flex items-center space-x-0.5 sm:space-x-1 px-1 sm:px-1.5 md:px-2 py-0.5 sm:py-1 rounded text-sky-700 hover:bg-sky-50 text-xs sm:text-sm bg-white shadow-sm border border-sky-200" data-target="#project-flow">
          <span>Details</span>
          <svg class="chev w-3 h-3 sm:w-4 sm:h-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
        </button>
      </div>

      <!-- Project Classification Details -->
      <div id="project-flow" class="accordion-content mt-2 sm:mt-3 space-y-1 sm:space-y-2 text-xs sm:text-sm">
        
        <!-- Project Types -->
        <!-- Different categories of construction projects -->
        <div class="bg-sky-50 px-2 sm:px-3 py-1 sm:py-2 rounded-md border border-sky-200">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800 text-xs sm:text-sm">ğŸ§© Project Types</span> 
            <button class="accordion-toggle text-xs text-sky-600" data-target="#project-types">
              Expand
              <svg class="chev w-2 h-2 sm:w-3 sm:h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <ul id="project-types" class="accordion-content list-disc ml-4 sm:ml-6 mt-1 sm:mt-2 text-sky-700 space-y-1 text-xs sm:text-sm">
            <li>ğŸ  Residential â†’ High-rise / Villas / Apartments</li>
            <li>ğŸ¢ Commercial â†’ Office, Retail, Hospitality</li>
            <li>ğŸ›‹ï¸ Interior â†’ Office, Residential, Retail Fit-outs</li>
            <li>ğŸŒ³ Landscape â†’ Gardens, Outdoor Spaces</li>
          </ul>
        </div>
        
        <!-- Project Coding System -->
        <!-- Standardized naming convention for project identification -->
		    <div class="bg-sky-50 px-2 sm:px-3 py-1 sm:py-2 rounded-md border border-sky-200">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800 text-xs sm:text-sm">ğŸ§© Project Codes (Sample Client: Praveen)</span> 
            <button class="accordion-toggle text-xs text-sky-600" data-target="#project-codes">
              Expand
              <svg class="chev w-2 h-2 sm:w-3 sm:h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <ul id="project-codes" class="accordion-content list-disc ml-4 sm:ml-6 mt-1 sm:mt-2 text-sky-700 space-y-1 text-xs sm:text-sm">
            <li>ğŸ  25PRRE â†’ Residential Project</li>
            <li>ğŸ¢ 25SIRE â†’ Commercial Project</li>
            <li>ğŸ›‹ï¸ 25PRIN â†’ Interior Project</li>
            <li>ğŸŒ³ 25PRLS â†’ Landscape Project</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="arrow"></div>

    <!-- ===== 4. PHASE MANAGEMENT ===== -->
    <!-- Detailed project execution phases from onboarding to completion -->
    <div class="node themed-node w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-[30rem] rounded-md sm:rounded-lg md:rounded-xl px-1.5 sm:px-2 md:px-3 lg:px-4 py-1.5 sm:py-2 md:py-3 shadow">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-1 sm:space-x-2">
          <span class="text-base sm:text-lg md:text-xl lg:text-2xl">ğŸ“‘</span>
          <span class="font-semibold text-sky-900 text-sm sm:text-base md:text-lg">Phase</span>
        </div>
        <button class="accordion-toggle flex items-center space-x-0.5 sm:space-x-1 px-1 sm:px-1.5 md:px-2 py-0.5 sm:py-1 rounded text-sky-700 hover:bg-sky-50 text-xs sm:text-sm bg-white shadow-sm border border-sky-200" data-target="#phase-flow">
          <span>Details</span>
          <svg class="chev w-3 h-3 sm:w-4 sm:h-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
        </button>
      </div>

      <!-- Phase Execution Details -->
      <div id="phase-flow" class="accordion-content mt-1 sm:mt-2 md:mt-3 space-y-0.5 sm:space-y-1 md:space-y-2 text-xs sm:text-sm">

		    <!-- Phase 1: Project Onboarding -->
        <!-- Initial site preparation and documentation verification -->
        <div class="bg-sky-50 px-3 py-2 rounded-md border border-sky-200">
          <div class="flex items-center justify-between">
            <div class="flex items-center font-medium text-sky-800">
              <span class="mr-2">ğŸš€</span> Project Onboarding
            </div>
            <button class="accordion-toggle px-2 py-1 text-xs rounded-md text-sky-700 hover:bg-sky-100" data-target="#onboarding-checks">
              Checks
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <ul id="onboarding-checks" class="accordion-content list-disc text-sky-700 ml-6 mt-2 space-y-1">
            <li>ğŸª“ Land Cleaning & Site Preparation</li>
            <li>ğŸ“ Digital Survey (Topography, Layout)</li>
            <li>ğŸ§± Soil Testing (Load Bearing Capacity)</li>
            <li>ğŸ“œ Document Verification (Title Deeds, Permits)</li>
            <li>ğŸ›ï¸ Government/Authority Approvals</li>
            <li>ğŸ’§ Water pH Testing</li>
            <li>ğŸ­ STP Setup (for Apartments)</li>
            <li>ğŸŒ§ï¸ Rainwater Harvesting System Planning</li>
          </ul>
        </div>

        <!-- Phase 2: Planning & Design -->
        <!-- Architectural and engineering design development -->
        <div class="bg-sky-50 px-3 py-2 rounded-md border border-sky-200">
          <div class="flex items-center justify-between">
            <div class="flex items-center font-medium text-sky-800">
              <span class="mr-2">ğŸ“</span> Planning
            </div>
            <button class="accordion-toggle px-2 py-1 text-xs rounded-md text-sky-700 hover:bg-sky-100" data-target="#planning-checks">
              Details
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <div id="planning-checks" class="accordion-content ml-6 mt-2 space-y-2">
            <!-- Design Components -->
            <div>
              <div class="font-medium text-sky-700">ğŸ¨ Designs</div>
              <ul class="list-disc ml-6 text-sky-700 space-y-1">
                <li>ğŸ–¼ï¸ 3D Concept Design</li>
                <li>ğŸ“ Floor Plan / Space Planning</li>
                <li>ğŸ—ï¸ Structural Design</li>
              </ul>
            </div>
            <!-- Approval Requirements -->
            <div>
              <div class="font-medium text-sky-700">ğŸ›ï¸ Department Approvals</div>
              <ul class="list-disc ml-6 text-sky-700 space-y-1">
                <li>ğŸ—ï¸ Civil Engineering Approval</li>
                <li>âš¡ MEP (Mechanical, Electrical, Plumbing) Approval</li>
                <li>â„ï¸ HVAC Approval</li>
                <li>ğŸ”¥ Fire & Safety Approval</li>
                <li>ğŸ¤– Automation / Smart Systems</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Phase 3: Approval Process -->
        <!-- Final design and regulatory approvals -->
        <div class="bg-sky-50 px-3 py-2 rounded-md border border-sky-200">
          <div class="flex items-center justify-between">
            <div class="flex items-center font-medium text-sky-800">
              <span class="mr-2">âœ…</span> Approval
            </div>
            <button class="accordion-toggle px-2 py-1 text-xs rounded-md text-sky-700 hover:bg-sky-100" data-target="#approval-checks">
              Steps
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <ul id="approval-checks" class="accordion-content list-disc text-sky-700 ml-6 mt-2 space-y-1">
            <li>ğŸ” Internal Technical Review</li>
            <li>ğŸ–Šï¸ Client Sign-off</li>
            <li>ğŸ›ï¸ Authority Approval (Municipal, RERA, Fire Dept., Environmental, etc.)</li>
          </ul>
        </div>

        <!-- Phase 4: Budget Planning -->
        <!-- Cost estimation and payment structure -->
        <div class="bg-sky-50 px-3 py-2 rounded-md border border-sky-200">
          <div class="flex items-center justify-between">
            <div class="flex items-center font-medium text-sky-800">
              <span class="mr-2">ğŸ’°</span> Budgeting
            </div>
            <button class="accordion-toggle px-2 py-1 text-xs rounded-md text-sky-700 hover:bg-sky-100" data-target="#budgeting-checks">
              Breakdown
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <div id="budgeting-checks" class="accordion-content ml-6 mt-2 space-y-2">
            <!-- Cost Components -->
            <ul class="list-disc ml-6 text-sky-700 space-y-1">
              <li>ğŸ’µ Cost Estimation (Per Sq.ft + Materials + Labor)</li>
              <li>ğŸ§‘â€ğŸ’¼ PMC (Project Management & Consultancy Fees)</li>
            </ul>
            <!-- Payment Structure -->
            <div>
              <div class="font-medium text-sky-700">ğŸ’³ Payment Mode</div>
              <ul class="list-disc ml-6 text-sky-700 space-y-1">
                <li>ğŸ“… Monthly</li>
                <li>ğŸ“Œ By Phase / Milestones</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Phase 5: Site Construction/Execution -->
        <!-- Main construction phase with detailed sub-phases -->
        <div class="bg-sky-50 px-3 py-2 rounded-md border border-sky-200">
          <div class="flex items-center justify-between">
            <div class="flex items-center font-medium text-sky-800">
              <span class="mr-2">ğŸ—ï¸</span> Site Construction / Execution
            </div>
            <button class="accordion-toggle px-2 py-1 text-xs rounded-md text-sky-700 hover:bg-sky-100" data-target="#execution-checks">
              Expand
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <!-- Construction Sub-Phases -->
          <div id="execution-checks" class="accordion-content ml-4 mt-2 space-y-2">

            <!-- 1. Pre-Execution -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">1ï¸âƒ£ Pre-Execution / Site Preparation</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-pre">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-pre" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸ‘· Site mobilization (labour, materials, machinery)</li>
                <li>ğŸ“ Site layout and demarcation</li>
                <li>ğŸš° Temporary utilities (water, power, sanitation)</li>
                <li>âš ï¸ Safety setup (barricades, signage, PPE compliance)</li>
              </ul>
            </div>

            <!-- 2. Foundation -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">2ï¸âƒ£ Foundation Works</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-found">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-found" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>â›ï¸ Excavation (manual/mechanical)</li>
                <li>ğŸŒ± Soil treatment & backfilling</li>
                <li>ğŸ§± Piling / Raft / Isolated footing works</li>
                <li>ğŸª£ Foundation concreting</li>
              </ul>
            </div>

            <!-- 3. Substructure -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">3ï¸âƒ£ Substructure</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-substruct">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-substruct" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸªµ Plinth beam construction</li>
                <li>ğŸ¢ Basement works (if applicable)</li>
                <li>ğŸ’§ Damp proof course (DPC)</li>
                <li>âš¡ Underground utilities (drainage, water, electrical)</li>
              </ul>
            </div>

            <!-- 4. Superstructure -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">4ï¸âƒ£ Superstructure</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-superstruct">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-superstruct" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸ—ï¸ Columns, beams, slabs</li>
                <li>ğŸ§± Masonry walls</li>
                <li>ğŸŒ€ Staircases and lift wells</li>
                <li>ğŸ”© Structural steel (if applicable)</li>
              </ul>
            </div>

            <!-- 5. Roofing -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">5ï¸âƒ£ Roofing / Slab Works</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-roof">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-roof" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸªœ Shuttering & reinforcement</li>
                <li>ğŸ§± Slab concreting</li>
                <li>ğŸ’¦ Curing & waterproofing</li>
              </ul>
            </div>

            <!-- 6. MEP -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">6ï¸âƒ£ M&E (MEP) Installations</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-mep">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-mep" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>âš¡ Electrical conduits and wiring</li>
                <li>ğŸš° Plumbing & sanitary lines</li>
                <li>â„ï¸ HVAC ducting & equipment</li>
                <li>ğŸ”¥ Fire-fighting pipelines / sprinklers</li>
              </ul>
            </div>

            <!-- 7. Finishing -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">7ï¸âƒ£ Finishing Works</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-finish">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-finish" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸ§± Plastering (internal & external)</li>
                <li>ğŸªµ Flooring (tiles, marble, wood, etc.)</li>
                <li>ğŸšª Doors & windows installation</li>
                <li>ğŸ’§ Waterproofing & painting</li>
                <li>ğŸªŸ False ceiling & partitions</li>
              </ul>
            </div>

            <!-- 8. External -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">8ï¸âƒ£ External Development</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-external">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-external" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸ§± Compound wall, gates, fencing</li>
                <li>ğŸ›£ï¸ Pathways & driveways</li>
                <li>ğŸ…¿ï¸ Parking area preparation</li>
                <li>ğŸŒ§ï¸ Rainwater harvesting pits, STP, drainage</li>
              </ul>
            </div>

            <!-- 9. Testing -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">9ï¸âƒ£ Testing & Commissioning</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-testing">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-testing" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>âš¡ MEP testing (water pressure, load test, HVAC balancing)</li>
                <li>ğŸ”¥ Fire & safety checks</li>
                <li>ğŸ›— Elevator installation & testing</li>
                <li>âœ… Quality inspection & snagging list</li>
              </ul>
            </div>

            <!-- 10. Handover -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">ğŸ”Ÿ Handover</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#exec-handover">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="exec-handover" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸ§¹ Final cleaning & site clearance</li>
                <li>ğŸ” Defect liability inspection</li>
                <li>ğŸ‘¥ Client walkthrough & approvals</li>
                <li>ğŸ“‘ Handover documentation</li>
              </ul>
            </div>

          </div>
        </div>

		<!-- Post-Construction -->
        <div class="bg-sky-50 px-3 py-2 rounded-md border">
          <div class="flex items-center justify-between">
            <div class="flex items-center font-medium text-sky-800">
              <span class="mr-2">ğŸ</span> Post-Construction
            </div>
            <button class="accordion-toggle px-2 py-1 text-xs rounded-md text-sky-700 hover:bg-sky-100" data-target="#postcon-checks">
              Expand
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>
          <div id="postcon-checks" class="accordion-content ml-4 mt-2 space-y-2">

            <!-- Interior Works -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">ğŸ  Interior Works</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#postcon-interior">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="postcon-interior" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸ¨ Detailed Interior Design â†’ Furniture, lighting, dÃ©cor.</li>
                <li>ğŸ“Š Estimation â†’ BOQ for materials & finishes.</li>
                <li>ğŸª‘ Fit-outs â†’ Carpentry, modular furniture, kitchen.</li>
                <li>âœ¨ Finishing â†’ Polishing, false ceilings, dÃ©cor.</li>
              </ul>
            </div>

            <!-- Landscape Development -->
            <div class="bg-white px-3 py-2 rounded-md border border-sky-100">
              <div class="flex justify-between items-center">
                <span class="font-medium text-sky-700">ğŸŒ³ Landscape Development</span>
                <button class="accordion-toggle text-xs text-sky-600" data-target="#postcon-landscape">
                  Details
                  <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
                </button>
              </div>
              <ul id="postcon-landscape" class="accordion-content list-disc ml-6 mt-2 text-sky-700 space-y-1">
                <li>ğŸŒ± Garden Design â†’ Plants, grass, softscape.</li>
                <li>ğŸªµ Hardscape â†’ Paving, gazebos, pergolas.</li>
                <li>ğŸ’¦ Water Features â†’ Fountain, pond, irrigation.</li>
                <li>ğŸ’¡ Outdoor Lighting â†’ Security & aesthetic.</li>
              </ul>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class="arrow"></div>

    <!-- ===== 5. WORK CATEGORY MANAGEMENT ===== -->
    <!-- Specific work categories within project phases with examples -->
    <div class="node themed-node w-full max-w-md sm:max-w-lg lg:max-w-[28rem] rounded-xl px-3 sm:px-4 py-2 sm:py-3 shadow">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-1 sm:space-x-2">
          <span class="text-xl sm:text-2xl">ğŸ·ï¸</span>
          <span class="font-semibold text-sm sm:text-base">Work Category</span>
        </div>
        <button class="accordion-toggle flex items-center space-x-1 px-1 sm:px-2 py-1 rounded-md text-xs sm:text-sm" data-target="#workcat-flow">
          <span>Details</span>
          <svg class="chev w-3 h-3 sm:w-4 sm:h-4" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>

      <!-- Work Category Examples and Definitions -->
      <div id="workcat-flow" class="accordion-content mt-2 sm:mt-3 space-y-2 sm:space-y-3 text-xs sm:text-sm">

    <!-- Example 1: Foundation Works -->
    <div class="bg-sky-50 border-sky-200 px-3 py-2 rounded-md">
      <div class="flex justify-between items-center">
        <span class="font-medium">ğŸ§± Work Category Example: Foundation Works</span>
        <button class="accordion-toggle text-xs" data-target="#workcat-foundation">
			Expand
			<svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
		</button>
      </div>
      <div id="workcat-foundation" class="accordion-content mt-2 space-y-2">

        <!-- Project Context -->
        <div class="bg-white rounded-md p-2 border">
          <div class="font-medium">ğŸ“Œ Project Context</div>
          <ul class="ml-6 list-disc text-gray-700 space-y-1">
            <li>ğŸ¢ <strong>Project:</strong> 25PRRE â€“ Residential High Rise</li>
            <li>ğŸ“‘ <strong>Phase:</strong> Site Execution</li>
            <li>ğŸ§± <strong>Work Category:</strong> Foundation Works</li>
          </ul>
        </div>

        <!-- Definition -->
        <div class="bg-white rounded-md p-2 border">
          <div class="font-medium">ğŸ“Œ Work Category Definition</div>
          <ul class="ml-6 list-disc text-gray-700 space-y-1">
            <li>ğŸ¯ <strong>Objective:</strong> Complete all activities related to the buildingâ€™s foundation.</li>
            <li>ğŸ“¦ <strong>Deliverable:</strong> A structurally sound foundation ready for superstructure construction.</li>
            <li>ğŸ‘· <strong>Responsible Dept.:</strong> Civil Engineering Team.</li>
            <li>â³ <strong>Duration:</strong> 4 weeks.</li>
            <li>ğŸ”— <strong>Dependencies:</strong> Soil Testing (from Project Onboarding), Land Clearing (Site Preparation Work Category).</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Example 2: MEP Design -->
    <div class="bg-sky-50 border-sky-200 px-3 py-2 rounded-md">
      <div class="flex justify-between items-center">
        <span class="font-medium">âš¡ Work Category Example: MEP Design</span>
        <button class="accordion-toggle text-xs" data-target="#workcat-mep">
			Expand
			<svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
		</button>
      </div>
      <div id="workcat-mep" class="accordion-content mt-2 space-y-2">

        <!-- Project Context -->
        <div class="bg-white rounded-md p-2 border">
          <div class="font-medium">ğŸ“Œ Project Context</div>
          <ul class="ml-6 list-disc text-gray-700 space-y-1">
            <li>ğŸ¢ <strong>Project:</strong> 25SIRE â€“ Commercial Complex</li>
            <li>ğŸ“‘ <strong>Phase:</strong> Planning & Design</li>
            <li>âš¡ <strong>Work Category:</strong> MEP Design (Mechanical, Electrical, Plumbing)</li>
          </ul>
        </div>

        <!-- Definition -->
        <div class="bg-white rounded-md p-2 border">
          <div class="font-medium">ğŸ“Œ Work Category Definition</div>
          <ul class="ml-6 list-disc text-gray-700 space-y-1">
            <li>ğŸ¯ <strong>Objective:</strong> Prepare all engineering designs for MEP systems in compliance with codes & client requirements.</li>
            <li>ğŸ“¦ <strong>Deliverable:</strong> Approved MEP drawings and documents ready for execution.</li>
            <li>ğŸ‘· <strong>Responsible Dept.:</strong> MEP Engineering Team.</li>
            <li>â³ <strong>Duration:</strong> 3 weeks.</li>
            <li>ğŸ”— <strong>Dependencies:</strong> Architectural layouts (floor plan, room sizes), Structural drawings (load paths, beams/columns).</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
    </div>
    <div class="arrow"></div>

    <!-- ===== 6. TASK MANAGEMENT ===== -->
    <!-- Individual tasks within work categories with stage tracking -->
	  <div class="node themed-node w-full max-w-md sm:max-w-lg lg:max-w-[28rem] rounded-xl px-3 sm:px-4 py-2 sm:py-3 shadow">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-1 sm:space-x-2">
          <span class="text-xl sm:text-2xl">âœ…</span>
          <span class="font-semibold text-sm sm:text-base">Task</span>
        </div>
        <button class="accordion-toggle flex items-center space-x-1 px-1 sm:px-2 py-1 rounded-md text-sky-700 hover:bg-sky-50 text-xs sm:text-sm" data-target="#task-flow">
          <span>Details</span>
          <svg class="chev w-3 h-3 sm:w-4 sm:h-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
        </button>
      </div>

      <!-- Task Management Details -->
      <div id="task-flow" class="accordion-content mt-2 sm:mt-3 space-y-1 sm:space-y-2 text-xs sm:text-sm">
        <!-- Task Examples and Breakdown -->
        <!-- Detailed task breakdown within a work category -->
        <div class="bg-sky-50 border-sky-200 px-3 py-2 rounded-md border">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800">ğŸ“‹ Breakdown of Tasks under Work Category</span>
            <button class="accordion-toggle text-xs text-sky-600" data-target="#task-examples">
              Expand
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>

          <!-- Individual Task Examples -->
          <div id="task-examples" class="accordion-content mt-2 space-y-3">

            <!-- Task 1: Excavation -->
            <div class="bg-white rounded-md p-2 border">
              <div class="font-medium">Task 1: Excavation</div>
              <p class="ml-4 text-gray-700">Description: Excavate soil as per foundation drawings.</p>
              <ul class="ml-8 list-disc text-gray-700">
                <li>Mark excavation lines.</li>
                <li>Deploy JCB/excavator.</li>
                <li>Dispose excavated soil.</li>
              </ul>
              <p class="ml-4 text-gray-700"><strong>Owner:</strong> Site Engineer</p>
              <p class="ml-4 text-gray-700"><strong>Stage Flow:</strong> To Do â†’ In Progress â†’ Work Completed â†’ QA â†’ Approved â†’ Completed</p>
            </div>

            <!-- Task 2: Piling/Footings -->
            <div class="bg-white rounded-md p-2 border">
              <div class="font-medium">Task 2: Piling / Footings</div>
              <p class="ml-4 text-gray-700">Description: Construct piles or isolated footings based on soil report.</p>
              <ul class="ml-8 list-disc text-gray-700">
                <li>Place reinforcement cages.</li>
                <li>Pour concrete.</li>
                <li>Curing process.</li>
              </ul>
              <p class="ml-4 text-gray-700"><strong>Owner:</strong> Civil Contractor</p>
            </div>

            <!-- Task 3: Foundation Concreting -->
            <div class="bg-white rounded-md p-2 border">
              <div class="font-medium">Task 3: Foundation Concreting</div>
              <p class="ml-4 text-gray-700">Description: Lay foundation concrete (raft or mat).</p>
              <ul class="ml-8 list-disc text-gray-700">
                <li>Prepare shuttering.</li>
                <li>Lay reinforcement.</li>
                <li>Pour & compact concrete.</li>
              </ul>
              <p class="ml-4 text-gray-700"><strong>Owner:</strong> Senior Engineer</p>
            </div>

            <!-- Task 4: Backfilling -->
            <div class="bg-white rounded-md p-2 border">
              <div class="font-medium">Task 4: Backfilling & Compaction</div>
              <p class="ml-4 text-gray-700">Description: Fill and compact soil around foundation.</p>
              <ul class="ml-8 list-disc text-gray-700">
                <li>Layered filling.</li>
                <li>Soil compaction testing.</li>
              </ul>
              <p class="ml-4 text-gray-700"><strong>Owner:</strong> QA + Site Execution Team</p>
            </div>

          </div>
        </div>
        
        <!-- Task Stage Management -->
        <!-- Standard workflow stages for task progression -->
        <div class="bg-sky-50 border-sky-200 px-3 py-2 rounded-md border">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800">ğŸ—ï¸ Typical Task Stages in Construction ERP</span>
		        <button class="accordion-toggle text-xs text-sky-600" data-target="#task-stages">
			        Expand
			        <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
		        </button>
          </div>

          <!-- Task Stage Definitions -->
	        <div id="task-stages" class="accordion-content mt-3 space-y-3 text-sm">
	   
            <!-- Stage 1: To Do -->
            <div class="mt-2 bg-white rounded-md p-2 border">
              <div class="font-medium">1ï¸âƒ£ To Do / Scheduled</div>
              <div class="ml-4 text-gray-700">
                Task is identified, assigned, and scheduled.<br>
                <em>Example:</em> Excavation planned to start on 10th Oct.
              </div>
            </div>

            <!-- Stage 2: In Progress -->
            <div class="mt-2 bg-white rounded-md p-2 border">
              <div class="font-medium">2ï¸âƒ£ In Progress</div>
              <div class="ml-4 text-gray-700">
                Work has started on site.<br>
                <em>Example:</em> Excavation machines deployed, soil being removed.
              </div>
            </div>

            <!-- Stage 3: Work Completed -->
            <div class="mt-2 bg-white rounded-md p-2 border">
              <div class="font-medium">3ï¸âƒ£ Work Completed (Pending QA)</div>
              <div class="ml-4 text-gray-700">
                Physical work finished, waiting for inspection/approval.<br>
                <em>Example:</em> Excavation done, but awaiting surveyor check.
              </div>
            </div>

            <!-- Stage 4: QA/Inspection -->
            <div class="mt-2 bg-white rounded-md p-2 border">
              <div class="font-medium">4ï¸âƒ£ QA / Inspection</div>
              <div class="ml-4 text-gray-700">
                Quality team or engineer verifies work against standards.<br>
                <em>Example:</em> Structural engineer verifies excavation depth and soil compaction.
              </div>
            </div>

            <!-- Stage 5: Approved -->
            <div class="mt-2 bg-white rounded-md p-2 border">
              <div class="font-medium">5ï¸âƒ£ Approved / Certified</div>
              <div class="ml-4 text-gray-700">
                Task is approved by relevant authority (Civil/MEP/Client).<br>
                <em>Example:</em> Excavation approved by civil engineer, ready for foundation works.
              </div>
            </div>

            <!-- Stage 6: Blocked -->
            <div class="mt-2 bg-white rounded-md p-2 border">
              <div class="font-medium">6ï¸âƒ£ Blocked / On Hold</div>
              <div class="ml-4 text-gray-700">
                Work is paused due to dependency, material shortage, or external approvals.<br>
                <em>Example:</em> Foundation work blocked until soil test report arrives.
              </div>
            </div>

            <!-- Stage 7: Rework Required -->
            <div class="mt-2 bg-white rounded-md p-2 border">
              <div class="font-medium">7ï¸âƒ£ Rework Required</div>
              <div class="ml-4 text-gray-700">
                QA found defects, task sent back for corrections.<br>
                <em>Example:</em> Plastering failed inspection, requires redo.
              </div>
            </div>
	        </div>
        </div>
      </div>
    </div>
    <div class="arrow"></div>

    <!-- ===== 7. SUBTASK MANAGEMENT ===== -->
    <!-- Granular task breakdown for detailed activity tracking -->
    <div class="node themed-node w-full max-w-md sm:max-w-lg lg:max-w-[28rem] rounded-xl px-3 sm:px-4 py-2 sm:py-3 shadow">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-1 sm:space-x-2">
          <span class="text-xl sm:text-2xl">â¡ï¸</span>
          <span class="font-semibold text-sm sm:text-base">SubTask</span>
        </div>
        <button class="accordion-toggle flex items-center space-x-1 px-1 sm:px-2 py-1 rounded-md text-xs sm:text-sm" data-target="#subtask-flow">
          <span>Details</span>
          <svg class="chev w-3 h-3 sm:w-4 sm:h-4" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>

      <!-- SubTask Breakdown Details -->
      <div id="subtask-flow" class="accordion-content mt-2 sm:mt-3 space-y-1 sm:space-y-2 text-xs sm:text-sm">
        <div class="bg-sky-50 px-2 sm:px-3 py-1 sm:py-2 rounded-md border border-sky-200">
          <div class="flex justify-between items-center">
            <span class="font-medium text-sky-800 text-xs sm:text-sm">ğŸ“Œ Example Breakdown of SubTasks</span>
            <button class="accordion-toggle text-xs text-sky-600" data-target="#subtask-examples">
              Expand
              <svg class="chev w-2 h-2 sm:w-3 sm:h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>

          <!-- SubTask Examples -->
          <div id="subtask-examples" class="accordion-content mt-1 sm:mt-2 space-y-2 sm:space-y-3">
            <!-- Parent Task Context -->
            <div class="bg-white rounded-md p-1 sm:p-2 border text-xs sm:text-sm">
              <div class="font-medium text-sky-700">ğŸ”¹ Parent Task: Soil Testing</div>
              <ul class="ml-4 sm:ml-6 list-disc text-sky-700 space-y-1">
                <li>ğŸŒ Digital / Topographic Survey â†’ Plot levels, contours</li>
                <li>ğŸ§± Soil Test â†’ Load-bearing, compaction, moisture</li>
                <li>ğŸ’§ Groundwater Table Check</li>
              </ul>
            </div>

            <!-- Detailed SubTask Activities -->
            <div class="bg-white rounded-md p-1 sm:p-2 border text-xs sm:text-sm">
              <div class="font-medium text-sky-700">ğŸ”¹ SubTasks (Detailed Activities)</div>
              <ul class="ml-4 sm:ml-6 list-disc text-sky-700 space-y-1">
                <li>ğŸ§ª Collect soil samples from multiple depths</li>
                <li>ğŸ“‘ Lab testing & analysis report submission</li>
                <li>ğŸ“Š Document findings and recommendations</li>
                <li>âœ… Get geotechnical engineer approval</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="arrow"></div>

    <!-- ===== 8. WORK LOG TRACKING ===== -->
    <!-- Final documentation and audit trail for all work activities -->
    <!-- WorkLog -->
    <div class="node themed-node w-full max-w-md sm:max-w-lg lg:max-w-[28rem] rounded-xl px-3 sm:px-4 py-2 sm:py-3 shadow">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-1 sm:space-x-2">
          <span class="text-xl sm:text-2xl">ğŸ“</span>
          <span class="font-semibold text-sm sm:text-base">WorkLog</span>
        </div>
        <button class="accordion-toggle flex items-center space-x-1 px-1 sm:px-2 py-1 rounded-md text-xs sm:text-sm" data-target="#worklog-flow">
          <span>Details</span>
          <svg class="chev w-3 h-3 sm:w-4 sm:h-4" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>

      <!-- WorkLog Accordion Content -->
      <div id="worklog-flow" class="accordion-content mt-2 sm:mt-3 space-y-1 sm:space-y-2 text-xs sm:text-sm">
        <div class="bg-sky-50 px-3 py-2 rounded-md border border-sky-200">
          <div class="flex justify-between items-center">
            <span class="font-medium">ğŸ“’ Example: Foundation (Site Execution Phase)</span>
            <button class="accordion-toggle text-xs" data-target="#worklog-example">
              Expand
              <svg class="chev w-3 h-3 inline-block ml-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 12a1 1 0 01-.7-.3l-4-4a1 1 0 111.4-1.4L10 9.6l3.3-3.3a1 1 0 111.4 1.4l-4 4A1 1 0 0110 12z" clip-rule="evenodd"/></svg>
            </button>
          </div>

          <div id="worklog-example" class="accordion-content mt-2 space-y-3">

            <!-- Project Context -->
            <div class="bg-white rounded-md p-2 border">
              <div class="font-medium">ğŸ“Œ Project Context</div>
              <ul class="ml-6 list-disc text-gray-700 space-y-1">
                <li>ğŸ¢ <strong>Project:</strong> 25PRRE â€“ Residential High Rise</li>
                <li>ğŸ“‘ <strong>Phase:</strong> Site Execution</li>
                <li>ğŸ§± <strong>Work Category:</strong> Foundation Works</li>
                <li>âœ… <strong>Task:</strong> Excavation</li>
              </ul>
            </div>

            <!-- Work Log Definition -->
            <div class="bg-white rounded-md p-2 border">
              <div class="font-medium">ğŸ“Œ Work Log Definition</div>
              <ul class="ml-6 list-disc text-gray-700 space-y-1">
                <li>ğŸ¯ <strong>Objective:</strong> Capture daily progress, resources, issues, and approvals for a task.</li>
                <li>ğŸ—“ï¸ <strong>Frequency:</strong> Daily (entered by Site Engineer / Supervisor).</li>
                <li>ğŸ“Š <strong>Purpose:</strong> Track actual work vs planned, ensure accountability, generate reports for billing & management.</li>
              </ul>
            </div>

            <!-- Sample Work Log Entry -->
            <div class="bg-white rounded-md p-2 border">
              <div class="font-medium">ğŸ“Œ Sample Work Log Entry</div>
              <ul class="ml-6 text-gray-700 space-y-1">
                <li><strong>Work Log ID:</strong> WL-2025-EXC-101</li>
                <li><strong>Date:</strong> 23-Sep-2025</li>
                <li><strong>Task:</strong> Excavation â€“ Foundation Pit (Block A)</li>
                <li><strong>SubTask:</strong> Mark excavation lines & soil removal</li>
                <li><strong>Owner:</strong> Site Engineer â€“ Mr. Ramesh</li>
              </ul>

              <!-- Progress Tracking -->
              <div class="mt-2">
                <div class="font-medium">1ï¸âƒ£ Progress Tracking</div>
                <ul class="ml-6 list-disc text-gray-700">
                  <li>Planned Volume: 100 mÂ³</li>
                  <li>Completed Today: 30 mÂ³</li>
                  <li>Cumulative Progress: 60 mÂ³ (60% done)</li>
                  <li>Status: In Progress</li>
                </ul>
              </div>

              <!-- Manpower -->
              <div class="mt-2">
                <div class="font-medium">2ï¸âƒ£ Manpower</div>
                <ul class="ml-6 list-disc text-gray-700">
                  <li>Excavation Crew: 5 labourers</li>
                  <li>Equipment Operators: 2 (JCB + Dumper)</li>
                  <li>Supervisor: 1 (Civil Engineer)</li>
                </ul>
              </div>

              <!-- Material & Equipment -->
              <div class="mt-2">
                <div class="font-medium">3ï¸âƒ£ Material & Equipment Used</div>
                <ul class="ml-6 list-disc text-gray-700">
                  <li>JCB Excavator â€“ 8 hrs</li>
                  <li>Dumper â€“ 4 trips</li>
                  <li>Fuel Consumption â€“ 50 litres</li>
                </ul>
              </div>

              <!-- Quality & Safety -->
              <div class="mt-2">
                <div class="font-medium">4ï¸âƒ£ Quality & Safety</div>
                <ul class="ml-6 list-disc text-gray-700">
                  <li>Compaction Test: Pending</li>
                  <li>Safety Checks: Barricades placed, PPE compliance checked</li>
                </ul>
              </div>

              <!-- Issues -->
              <div class="mt-2">
                <div class="font-medium">5ï¸âƒ£ Issues / Blockers</div>
                <ul class="ml-6 list-disc text-gray-700">
                  <li>Delay in dumper arrival (2 hrs lost)</li>
                  <li>Rain stopped work early (at 3 PM)</li>
                </ul>
              </div>

              <!-- Approvals -->
              <div class="mt-2">
                <div class="font-medium">6ï¸âƒ£ Approvals</div>
                <ul class="ml-6 list-disc text-gray-700">
                  <li>Verified By: Site Engineer â€“ Mr. Ramesh</li>
                  <li>QA Check Pending By: Civil QA Engineer</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    $(function(){
      // Sequential animation
      const items = $("#workflow").children();
      let i=0;
      function showNext(){
        if(i < items.length){
          $(items[i]).addClass("visible");
          i++;
          setTimeout(showNext, 600);
        } else {
          $(".arrow").addClass("visible");
        }
      }
      showNext();

      // Accordion toggle with better mobile touch support
      $(".accordion-toggle").on("click touchend", function(e){
        e.preventDefault();
        e.stopPropagation();
        const target = $(this).data("target");
        const $content = $(target);
        const $chev = $(this).find(".chev");
        if ($content.is(":visible")) {
          $content.slideUp(250);
          $chev.removeClass("open");
        } else {
          $content.slideDown(250);
          $chev.addClass("open");
        }
      });

      // Prevent double-tap zoom on mobile
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function (event) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);

      // Theme switcher (radio buttons)
      const themes = {
        sky:    { color:"#0ea5e9", bg:"#e0f2fe", border:"#7dd3fc", text:"#075985" },
        emerald:{ color:"#10b981", bg:"#d1fae5", border:"#6ee7b7", text:"#064e3b" },
        indigo: { color:"#6366f1", bg:"#e0e7ff", border:"#a5b4fc", text:"#312e81" },
        amber:  { color:"#f59e0b", bg:"#fef3c7", border:"#fcd34d", text:"#78350f" }
      };

      $("input[name='theme']").on("change", function(){
        const theme = themes[$(this).val()];
        document.documentElement.style.setProperty('--theme-color', theme.color);
        document.documentElement.style.setProperty('--theme-bg', theme.bg);
        document.documentElement.style.setProperty('--theme-border', theme.border);
        document.documentElement.style.setProperty('--theme-text', theme.text);
      });
    });
  </script>
</body>
</html>
